<!DOCTYPE html>
<html lang="es" class="scroll-smooth">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>M√≥dulo 1 | Fundamentos Java Elite</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700;800&display=swap"
        rel="stylesheet">
    <link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.30.0/themes/prism-tomorrow.min.css" rel="stylesheet" />
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/7.0.1/css/all.min.css" rel="stylesheet" />
    <link rel="stylesheet" type="text/css" href="../assets/syle.css">
    <script src="../assets/scriptHead.js"></script>
</head>

<body
    class="flex flex-col h-screen bg-slate-50 text-slate-800 antialiased selection:bg-blue-500 selection:text-white overflow-hidden">

    <nav
        class="fixed w-full z-50 bg-slate-900/95 backdrop-blur-md border-b border-slate-700/50 text-white h-16 flex items-center justify-between px-6 shadow-lg">
        <div class="flex items-center gap-4">
            <a href="../index.html"
                class="group flex items-center gap-2 text-slate-300 hover:text-white transition-all bg-white/5 hover:bg-white/10 px-4 py-2 rounded-lg border border-white/10 hover:border-white/20">
                <i class="fas fa-arrow-left text-sm group-hover:-translate-x-1 transition-transform"></i>
                <span class="text-sm font-medium">Dashboard</span>
            </a>
            <div class="h-6 w-px bg-slate-700 mx-2"></div>
            <div class="flex items-center gap-3">
                <div class="bg-blue-600/20 p-2 rounded-lg border border-blue-500/30 text-blue-400">
                    <i class="fas fa-microchip text-lg"></i>
                </div>
                <div>
                    <h1 class="font-bold text-sm tracking-wide leading-none">Ingenier√≠a de Software</h1>
                    <span class="text-xs text-slate-400 font-medium">Java Elite Bootcamp</span>
                </div>
            </div>
        </div>
        <div class="hidden md:flex items-center gap-4">
            <div class="flex items-center gap-2 px-3 py-1.5 bg-blue-900/30 rounded-full border border-blue-500/20">
                <span class="relative flex h-2 w-2">
                    <span
                        class="animate-ping absolute inline-flex h-full w-full rounded-full bg-blue-400 opacity-75"></span>
                    <span class="relative inline-flex rounded-full h-2 w-2 bg-blue-500"></span>
                </span>
                <span class="text-xs font-semibold text-blue-300">Java 21 LTS</span>
            </div>
        </div>
    </nav>

    <div class="flex flex-1 pt-16 h-full overflow-hidden">
        <aside class="w-80 bg-white border-r border-slate-200 shadow-xl z-20 hidden md:flex flex-col">
            <div class="p-6 border-b border-slate-100 bg-slate-50/50">
                <h3 class="text-xs font-black text-slate-400 uppercase tracking-widest mb-1">M√≥dulo 01</h3>
                <p class="text-sm text-slate-600 font-medium">Fundamentos & Arquitectura</p>
            </div>
            <div class="flex-1 overflow-y-auto custom-scrollbar p-4 space-y-2">
                <button onclick="showLesson(1)" id="btn-1"
                    class="nav-btn w-full text-left px-4 py-4 rounded-xl text-sm font-medium transition-all duration-200 border border-transparent hover:bg-slate-50 hover:border-slate-200 group relative overflow-hidden active">
                    <div class="relative z-10 flex items-center gap-3">
                        <span
                            class="flex-shrink-0 w-8 h-8 rounded-lg bg-slate-100 text-slate-500 flex items-center justify-center text-xs font-bold group-hover:bg-white group-hover:shadow-sm transition-all btn-icon">01</span>
                        <span class="text-slate-600 group-hover:text-slate-900 btn-text">Arquitectura JVM</span>
                    </div>
                    <div
                        class="absolute left-0 top-0 bottom-0 w-1 bg-blue-600 opacity-0 btn-indicator transition-opacity">
                    </div>
                </button>
                <button onclick="showLesson(2)" id="btn-2"
                    class="nav-btn w-full text-left px-4 py-4 rounded-xl text-sm font-medium transition-all duration-200 border border-transparent hover:bg-slate-50 hover:border-slate-200 group relative overflow-hidden">
                    <div class="relative z-10 flex items-center gap-3">
                        <span
                            class="flex-shrink-0 w-8 h-8 rounded-lg bg-slate-100 text-slate-500 flex items-center justify-center text-xs font-bold group-hover:bg-white group-hover:shadow-sm transition-all btn-icon">02</span>
                        <span class="text-slate-600 group-hover:text-slate-900 btn-text">Tooling & IDE Internals</span>
                    </div>
                    <div
                        class="absolute left-0 top-0 bottom-0 w-1 bg-blue-600 opacity-0 btn-indicator transition-opacity">
                    </div>
                </button>
                <button onclick="showLesson(3)" id="btn-3"
                    class="nav-btn w-full text-left px-4 py-4 rounded-xl text-sm font-medium transition-all duration-200 border border-transparent hover:bg-slate-50 hover:border-slate-200 group relative overflow-hidden">
                    <div class="relative z-10 flex items-center gap-3">
                        <span
                            class="flex-shrink-0 w-8 h-8 rounded-lg bg-slate-100 text-slate-500 flex items-center justify-center text-xs font-bold group-hover:bg-white group-hover:shadow-sm transition-all btn-icon">03</span>
                        <span class="text-slate-600 group-hover:text-slate-900 btn-text">Tipos & Memoria</span>
                    </div>
                    <div
                        class="absolute left-0 top-0 bottom-0 w-1 bg-blue-600 opacity-0 btn-indicator transition-opacity">
                    </div>
                </button>
                <button onclick="showLesson(4)" id="btn-4"
                    class="nav-btn w-full text-left px-4 py-4 rounded-xl text-sm font-medium transition-all duration-200 border border-transparent hover:bg-slate-50 hover:border-slate-200 group relative overflow-hidden">
                    <div class="relative z-10 flex items-center gap-3">
                        <span
                            class="flex-shrink-0 w-8 h-8 rounded-lg bg-slate-100 text-slate-500 flex items-center justify-center text-xs font-bold group-hover:bg-white group-hover:shadow-sm transition-all btn-icon">04</span>
                        <span class="text-slate-600 group-hover:text-slate-900 btn-text">Control de Flujo
                            Avanzado</span>
                    </div>
                    <div
                        class="absolute left-0 top-0 bottom-0 w-1 bg-blue-600 opacity-0 btn-indicator transition-opacity">
                    </div>
                </button>
                <button onclick="showLesson(5)" id="btn-5"
                    class="nav-btn w-full text-left px-4 py-4 rounded-xl text-sm font-medium transition-all duration-200 border border-transparent hover:bg-slate-50 hover:border-slate-200 group relative overflow-hidden">
                    <div class="relative z-10 flex items-center gap-3">
                        <span
                            class="flex-shrink-0 w-8 h-8 rounded-lg bg-slate-100 text-slate-500 flex items-center justify-center text-xs font-bold group-hover:bg-white group-hover:shadow-sm transition-all btn-icon">05</span>
                        <span class="text-slate-600 group-hover:text-slate-900 btn-text">Stack & Heap Mechanics</span>
                    </div>
                    <div
                        class="absolute left-0 top-0 bottom-0 w-1 bg-blue-600 opacity-0 btn-indicator transition-opacity">
                    </div>
                </button>
            </div>
        </aside>

        <main class="flex-1 overflow-y-auto relative bg-slate-50 scroll-smooth">
            <div class="max-w-5xl mx-auto px-8 py-12 relative z-10">

                <!-- LECCI√ìN 1 -->
                <div id="lesson-1" class="lesson-section active animate-fade-in-up lesson-content">
                    <div class="mb-8 border-b border-slate-200 pb-6">
                        <div class="flex items-center gap-3 mb-2">
                            <span
                                class="px-3 py-1 rounded-full bg-blue-100 text-blue-700 text-xs font-bold uppercase tracking-wider">Lecci√≥n
                                01</span>
                            <span class="text-slate-400 text-sm font-medium"><i class="far fa-clock mr-1"></i> 90
                                min</span>
                        </div>
                        <h1 class="text-4xl md:text-5xl font-black text-slate-900 tracking-tight mb-4">La M√°quina
                            Virtual (JVM): Internals & Compilation</h1>
                    </div>

                    <div class="bg-white rounded-2xl p-8 shadow-lg shadow-blue-900/5 border-l-4 border-blue-600 mb-10">
                        <h3 class="!mt-0 text-xl font-bold text-slate-800 mb-4 flex items-center gap-2">
                            <i class="fas fa-crosshairs text-blue-600"></i> Objetivos de Ingenier√≠a
                        </h3>
                        <div class="grid md:grid-cols-2 gap-4">
                            <div class="flex items-start gap-3"><i
                                    class="fas fa-check-circle text-green-500 mt-1"></i><span
                                    class="text-slate-600 text-sm">Disecci√≥n del motor <strong>HotSpot JVM</strong>:
                                    Compilaci√≥n Escalonada (Tiered Compilation) y Profiling.</span></div>
                            <div class="flex items-start gap-3"><i
                                    class="fas fa-check-circle text-green-500 mt-1"></i><span
                                    class="text-slate-600 text-sm">Mecanismo de <strong>Classloading
                                        Delegation</strong>: Bootstrap, Platform y App Loaders.</span></div>
                            <div class="flex items-start gap-3"><i
                                    class="fas fa-check-circle text-green-500 mt-1"></i><span
                                    class="text-slate-600 text-sm">El mito del "Write Once, Run Anywhere": Entendiendo
                                    el <strong>Bytecode</strong> como lenguaje intermedio.</span></div>
                            <div class="flex items-start gap-3"><i
                                    class="fas fa-check-circle text-green-500 mt-1"></i><span
                                    class="text-slate-600 text-sm">Diferencia entre JDK, JRE y JVM en entornos de
                                    producci√≥n.</span></div>
                        </div>
                    </div>



                    <h2>1. M√°s all√° de la compilaci√≥n: El ciclo de vida HotSpot</h2>
                    <p>En entornos cr√≠ticos, entender la JVM no es opcional. Java utiliza un modelo de ejecuci√≥n h√≠brido
                        para balancear <strong>Startup Time</strong> vs <strong>Peak Throughput</strong>. El c√≥digo
                        fuente (<code>.java</code>) no se traduce a lenguaje m√°quina directamente, sino a un set de
                        instrucciones intermedio (Bytecode) que garantiza portabilidad, pero exige una VM sofisticada.
                    </p>

                    <p>El proceso de ejecuci√≥n en <strong>Oracle HotSpot</strong> sigue una estrategia de "Tiered
                        Compilation":</p>

                    <ol class="list-decimal list-inside space-y-2 ml-4 text-slate-600 mb-6">
                        <li><strong>Interpreter (Tier 0):</strong> Ejecuta bytecode opcode por opcode. Es "lento"
                            (relativo a c√≥digo nativo), pero permite un arranque inmediato y comienza la recolecci√≥n de
                            metadatos de ejecuci√≥n (profiling).</li>
                        <li><strong>Profiling (C0):</strong> La JVM inserta contadores en m√©todos y bucles. Detecta "Hot
                            Spots" (c√≥digo ejecutado frecuentemente) y patrones de tipos din√°micos.</li>
                        <li><strong>C1 Compiler (Client - Tier 3):</strong> Compila m√©todos "tibios" a c√≥digo nativo
                            r√°pido, con optimizaciones ligeras (inlining b√°sico) para no saturar la CPU durante el
                            arranque.</li>
                        <li><strong>C2 Compiler (Server - Tier 4):</strong> El optimizador agresivo. Usa el perfilado
                            para realizar asunciones audaces (Speculative Optimizations). Aplica <strong>Dead Code
                                Elimination</strong>, <strong>Loop Unrolling</strong> y <strong>Escape
                                Analysis</strong>. Genera instrucciones AVX/SSE espec√≠ficas del procesador.</li>
                    </ol>

                    <div class="bg-amber-50 border-l-4 border-amber-500 p-6 rounded-r-xl mb-8">
                        <div class="flex gap-4">
                            <div class="text-amber-500 text-2xl"><i class="fas fa-lightbulb"></i></div>
                            <div>
                                <h4 class="font-bold text-amber-900 mb-1">Deoptimization: El precio de la especulaci√≥n
                                </h4>
                                <p class="text-amber-800 text-sm">
                                    El compilador C2 es optimista. Puede asumir que "este m√©todo nunca devuelve null"
                                    basado en el hist√≥rico. Si el entorno cambia (ej. carga din√°mica de clases) y la
                                    asunci√≥n falla, ocurre una <strong>Deoptimization</strong>: la JVM descarta el
                                    c√≥digo nativo compilado (On-Stack Replacement) y regresa al Int√©rprete ("Zombie
                                    Code"). Esto causa un pico de latencia temporal.
                                </p>
                            </div>
                        </div>
                    </div>

                    <h2>2. Classloading: El guardi√°n de la seguridad</h2>
                    <p>Java no carga todo el programa en memoria al inicio. Usa un sistema de <strong>Lazy
                            Loading</strong> jer√°rquico. Cuando tu c√≥digo referencia una clase, la JVM delega la
                        b√∫squeda hacia arriba (Parent Delegation Model):</p>
                    <ul class="list-disc list-inside text-slate-600 mb-6 ml-4">
                        <li><strong>Bootstrap ClassLoader:</strong> Carga el n√∫cleo de Java (<code>java.lang.*</code>)
                            desde <code>modules</code>. Escrito en C++.</li>
                        <li><strong>Platform ClassLoader:</strong> Carga m√≥dulos de la plataforma (SQL, XML, etc.).</li>
                        <li><strong>Application ClassLoader:</strong> Carga <em>tu c√≥digo</em> y las librer√≠as del
                            Classpath.</li>
                    </ul>

                    <h2 class="text-slate-900 border-none mb-6"><i
                            class="fas fa-dumbbell text-blue-600 mr-2"></i>Training Ground: Laboratorio de Ingenier√≠a
                    </h2>

                    <div class="mb-6 p-6 bg-slate-100 rounded-xl border-l-4 border-green-500">
                        <span class="text-xs font-bold text-green-600 uppercase mb-2 block">üü¢ Nivel B√°sico</span>
                        <p class="font-medium text-slate-800 mb-2">Trazabilidad de Classloading</p>
                        <p class="text-sm text-slate-600 mb-4">Verifica el orden de carga y bloqueo. El Application
                            ClassLoader no puede cargar clases del n√∫cleo.</p>
                        <details class="group">
                            <summary
                                class="flex cursor-pointer items-center text-sm font-medium text-green-600 hover:text-green-700">
                                <i class="fas fa-lightbulb mr-2"></i>Ver Procedimiento T√©cnico
                            </summary>
                            <div class="mt-2 text-sm text-slate-600 pl-6 border-l-2 border-slate-300 space-y-2">
                                <p>1. Compila tu c√≥digo: <code>javac App.java</code>.</p>
                                <p>2. Ejecuta con flag de trazabilidad: <code>java -verbose:class App</code>.</p>
                                <p><strong>An√°lisis:</strong> Observa c√≥mo <code>java.lang.Object</code> es cargado por
                                    el Bootstrap Loader antes que tu clase. Identifica el punto exacto donde el JIT
                                    empieza a cargar clases auxiliares como <code>LambdaMetafactory</code>.</p>
                            </div>
                        </details>
                    </div>

                    <div class="mb-6 p-6 bg-slate-100 rounded-xl border-l-4 border-yellow-500">
                        <span class="text-xs font-bold text-yellow-600 uppercase mb-2 block">üü° Nivel Intermedio</span>
                        <p class="font-medium text-slate-800 mb-2">Ingenier√≠a Inversa del Bytecode</p>
                        <p class="text-sm text-slate-600 mb-4">Usa <code>javap</code> para desensamblar la clase.
                            Entiende que Java es una <strong>Stack Machine</strong>: las operaciones no usan registros
                            (eax, ebx) como en x86, sino que empujan y sacan valores de una pila de operandos.</p>
                        <details class="group">
                            <summary
                                class="flex cursor-pointer items-center text-sm font-medium text-yellow-600 hover:text-yellow-700">
                                <i class="fas fa-lightbulb mr-2"></i>Ver Comando & An√°lisis
                            </summary>
                            <p class="mt-2 text-sm text-slate-600 pl-6 border-l-2 border-slate-300">
                                Ejecuta: <code>javap -c -p -v App.class</code>.
                                <br>Busca el m√©todo <code>main</code>. Observa instrucciones como:
                                <br><code>iconst_1</code> (Push int 1 al stack).
                                <br><code>istore_1</code> (Pop del stack y guardar en variable local 1).
                            </p>
                        </details>
                    </div>
                </div>

                <!-- LECCI√ìN 2 -->
                <div id="lesson-2" class="lesson-section hidden animate-fade-in-up lesson-content">
                    <div class="mb-8 border-b border-slate-200 pb-6">
                        <div class="flex items-center gap-3 mb-2">
                            <span
                                class="px-3 py-1 rounded-full bg-blue-100 text-blue-700 text-xs font-bold uppercase tracking-wider">Lecci√≥n
                                02</span>
                        </div>
                        <h1 class="text-4xl md:text-5xl font-black text-slate-900 tracking-tight mb-4">Dominando el IDE:
                            An√°lisis Est√°tico & Debugging Remoto</h1>
                    </div>

                    <div class="bg-white rounded-2xl p-8 shadow-lg shadow-blue-900/5 border-l-4 border-blue-600 mb-10">
                        <h3 class="!mt-0 text-xl font-bold text-slate-800 mb-4 flex items-center gap-2">
                            <i class="fas fa-crosshairs text-blue-600"></i> Objetivos de Ingenier√≠a
                        </h3>
                        <ul class="list-disc list-inside text-gray-600 space-y-2 text-sm">
                            <li>Comprender el <strong>AST (Abstract Syntax Tree)</strong>: C√≥mo el IDE indexa
                                sem√°nticamente tu c√≥digo, superando a la b√∫squeda textual.</li>
                            <li>Debugging Protocol (JDWP): Arquitectura Cliente-Servidor del Debugger.
                                <strong>Conditional Breakpoints</strong> para problemas de concurrencia.
                            </li>
                            <li>Refactorizaci√≥n Estructural: Rename, Extract Method y garant√≠as de consistencia l√≥gica.
                            </li>
                            <li><strong>Bytecode Injection:</strong> C√≥mo funcionan los HotSwaps y los agentes de
                                instrumentaci√≥n.</li>
                        </ul>
                    </div>



                    <h2>1. Tu IDE es un Motor de An√°lisis Est√°tico</h2>
                    <p>Un editor de texto ve una secuencia plana de caracteres. IntelliJ o Eclipse construyen un
                        <strong>AST (Abstract Syntax Tree)</strong> en tiempo real. Esta estructura de datos arb√≥rea
                        representa la estructura sint√°ctica del c√≥digo.
                    </p>

                    <ul class="list-disc list-inside text-slate-600 mb-6 ml-4">
                        <li><strong>Semantic Awareness:</strong> "Find Usages" no busca el string "id". Busca el nodo en
                            el √°rbol que representa esa variable espec√≠fica en ese scope, ignorando variables con el
                            mismo nombre en otros m√©todos.</li>
                        <li><strong>Refactorizaci√≥n At√≥mica:</strong> Al renombrar, el IDE recorre el grafo del AST.
                            Esto garantiza que referencias en Javadocs, archivos XML de configuraci√≥n y Strings
                            literales (si se selecciona) se actualicen consistentemente.</li>
                        <li><strong>Data Flow Analysis:</strong> El IDE simula la ejecuci√≥n para detectar <em>Code
                                Smells</em>: "Condition is always true", "Value might be null", o "Unreachable code"
                            antes de siquiera compilar.</li>
                    </ul>

                    <h2>2. Debugging de Nivel Senior: JDWP</h2>
                    <p>El debugging profesional utiliza el <strong>Java Debug Wire Protocol (JDWP)</strong>. La JVM
                        act√∫a como servidor, pausando hilos espec√≠ficos y comunicando el estado de memoria al IDE
                        (cliente).</p>

                    <div class="rounded-xl overflow-hidden shadow-2xl bg-[#2d2d2d] border border-slate-700 mb-8">
                        <div class="bg-[#1e1e1e] px-4 py-2 flex items-center gap-2 border-b border-slate-700">
                            <span class="text-xs text-slate-400 font-mono">ComplexLogic.java</span>
                        </div>
                        <pre><code class="language-java">for (int i = 0; i < 1000000; i++) {
    Transaction t = transactions.get(i);
    process(t); // Fallo aleatorio solo cuando t.getId() es "TX-99" y el estado es PENDING
}</code></pre>
                    </div>
                    <p><strong>Conditional Breakpoint:</strong> Detenerse paso a paso en bucles masivos es inviable. Un
                        breakpoint condicional inyecta una comprobaci√≥n en tiempo de ejecuci√≥n. El debugger eval√∫a la
                        expresi√≥n Java en el contexto del Stack Frame actual y solo suspende el hilo (SUSPEND_EVENT) si
                        el resultado es true.</p>
                    <p><strong>Overhead Warning:</strong> Evaluar condiciones en breakpoints es costoso (context switch
                        constante entre JVM y Debugger). √ösalos con precauci√≥n en entornos sensibles al tiempo.</p>

                    <h2 class="text-slate-900 border-none mb-6"><i
                            class="fas fa-dumbbell text-blue-600 mr-2"></i>Training Ground</h2>

                    <div class="mb-6 p-6 bg-slate-100 rounded-xl border-l-4 border-green-500">
                        <span class="text-xs font-bold text-green-600 uppercase mb-2 block">üü¢ Nivel B√°sico</span>
                        <p class="font-medium text-slate-800 mb-2">Live Templates & Cognitive Load</p>
                        <p class="text-sm text-slate-600 mb-4">Reduce la carga cognitiva delegando el "boilerplate" al
                            IDE. No memorices sintaxis repetitiva, memoriza atajos.</p>
                        <details class="group">
                            <summary
                                class="flex cursor-pointer items-center text-sm font-medium text-green-600 hover:text-green-700">
                                Atajos Esenciales
                            </summary>
                            <p class="mt-2 text-sm text-slate-600 pl-4 border-l-2 border-slate-300">
                                - <code>psvm</code>: <code>public static void main...</code><br>
                                - <code>soutv</code>: Imprime variable con etiqueta (an√°lisis r√°pido).<br>
                                - <code>iter</code>: Genera bucle for-each inteligente basado en el tipo de colecci√≥n
                                cercana.
                                - <code>Ctrl+W</code> (Extend Selection): Selecci√≥n sem√°ntica incremental (palabra ->
                                expresi√≥n -> sentencia -> bloque).
                            </p>
                        </details>
                    </div>

                    <div class="mb-6 p-6 bg-slate-100 rounded-xl border-l-4 border-yellow-500">
                        <span class="text-xs font-bold text-yellow-600 uppercase mb-2 block">üü° Nivel Intermedio</span>
                        <p class="font-medium text-slate-800 mb-2">Refactorizaci√≥n: Extract Method</p>
                        <p class="text-sm text-slate-600 mb-4">Aplica el <strong>Single Responsibility
                                Principle</strong> (SRP) a nivel de funci√≥n. Selecciona un bloque de c√≥digo complejo y
                            extr√°elo. El IDE detectar√° variables de entrada/salida y crear√° la firma del m√©todo
                            autom√°ticamente.</p>
                        <p class="text-xs font-mono bg-slate-200 inline-block px-2 rounded">Ctrl + Alt + M (Win) / Cmd +
                            Opt + M (Mac)</p>
                    </div>

                    <div class="mb-10 p-6 bg-slate-100 rounded-xl border-l-4 border-red-500">
                        <span class="text-xs font-bold text-red-600 uppercase mb-2 block">üî¥ Nivel Avanzado</span>
                        <p class="font-medium text-slate-800 mb-2">Evaluate Expression & HotSwap</p>
                        <p class="text-sm text-slate-600 mb-4">
                            Durante una sesi√≥n de debug, usa "Evaluate Expression" (Alt+F8) para ejecutar c√≥digo
                            arbitrario en el contexto actual (incluso forzar cambios de estado en objetos privados
                            mediante reflexi√≥n impl√≠cita).
                            <br><br>
                            <strong>HotSwap:</strong> Cambia el cuerpo de un m√©todo mientras la app corre y recompila
                            (Ctrl+Shift+F9). La JVM reemplazar√° el puntero de la funci√≥n en memoria.
                            <em>Limitaci√≥n:</em> No puedes cambiar firmas de m√©todos ni a√±adir campos de clase sin
                            reiniciar (a menos que uses DCEVM).
                        </p>
                    </div>
                </div>

                <!-- LECCI√ìN 3 -->
                <div id="lesson-3" class="lesson-section hidden animate-fade-in-up lesson-content">
                    <div class="mb-8 border-b border-slate-200 pb-6">
                        <div class="flex items-center gap-3 mb-2">
                            <span
                                class="px-3 py-1 rounded-full bg-blue-100 text-blue-700 text-xs font-bold uppercase tracking-wider">Lecci√≥n
                                03</span>
                        </div>
                        <h1 class="text-4xl md:text-5xl font-black text-slate-900 tracking-tight mb-4">Sistema de Tipos,
                            Precisi√≥n y Object Layout</h1>
                    </div>

                    <div class="bg-white rounded-2xl p-8 shadow-lg shadow-blue-900/5 border-l-4 border-blue-600 mb-10">
                        <h3 class="!mt-0 text-xl font-bold text-slate-800 mb-4 flex items-center gap-2">
                            <i class="fas fa-crosshairs text-blue-600"></i> Objetivos de Ingenier√≠a
                        </h3>
                        <ul class="list-disc list-inside text-gray-600 space-y-2 text-sm">
                            <li>Anatom√≠a de tipos: Representaci√≥n en bits y Complemento a Dos.</li>
                            <li><strong>IEEE 754</strong>: Representaci√≥n de punto flotante y por qu√©
                                <code>double</code> es peligroso en finanzas.
                            </li>
                            <li>Internals: <strong>Java Object Layout (JOL)</strong>. Mark Word, Compressed Oops y
                                Padding.</li>
                            <li>String Pool: Mecanismo de <code>intern()</code> y gesti√≥n de memoria Flyweight.</li>
                        </ul>
                    </div>



                    <h2>1. Primitivos vs Wrappers: Coste de Memoria Real</h2>
                    <p>La eficiencia de memoria es cr√≠tica en sistemas de alta escala. Un <code>int</code> ocupa 4 bytes
                        crudos. Un <code>Integer</code> es un objeto completo en el Heap. La diferencia es masiva.</p>

                    <div class="overflow-hidden rounded-xl border border-slate-200 mb-8 shadow-sm">
                        <table class="w-full text-left bg-white text-sm">
                            <thead class="bg-slate-100 text-slate-700 font-bold uppercase text-xs">
                                <tr>
                                    <th class="p-4">Componente Objeto</th>
                                    <th class="p-4">Tama√±o (64-bit JVM)</th>
                                    <th class="p-4">Descripci√≥n T√©cnica</th>
                                </tr>
                            </thead>
                            <tbody class="divide-y divide-slate-100">
                                <tr>
                                    <td class="p-4 font-mono text-pink-600">Mark Word (Header)</td>
                                    <td class="p-4">8 bytes</td>
                                    <td class="p-4">Almacena identidad hashcode, bits de bloqueo (monitor para
                                        synchronized) y edad del objeto para GC (age bits).</td>
                                </tr>
                                <tr>
                                    <td class="p-4 font-mono text-pink-600">Class Pointer</td>
                                    <td class="p-4">4 bytes (Compressed)</td>
                                    <td class="p-4">Referencia comprimida (<code>-XX:+UseCompressedOops</code>)
                                        apuntando a la definici√≥n de la clase en Metaspace. Sin compresi√≥n ser√≠an 8
                                        bytes.</td>
                                </tr>
                                <tr>
                                    <td class="p-4 font-mono text-pink-600">Instance Data</td>
                                    <td class="p-4">Variable</td>
                                    <td class="p-4">Los campos reales (ej: el <code>int</code> value de 4 bytes).</td>
                                </tr>
                                <tr>
                                    <td class="p-4 font-mono text-pink-600">Padding</td>
                                    <td class="p-4">Variable (0-7 bytes)</td>
                                    <td class="p-4">Alineamiento de memoria. La JVM exige que los objetos comiencen en
                                        direcciones m√∫ltiplos de 8 bytes para optimizar el bus de memoria de la CPU.
                                    </td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                    <p class="text-sm text-slate-500 italic mt-2">Conclusi√≥n: Un <code>Integer</code> ocupa ~16 bytes
                        m√≠nimos para guardar 4 bytes de datos. Un overhead del 300% frente a un primitivo.</p>

                    <h2>2. El Est√°ndar IEEE 754 y el error financiero</h2>
                    <p>Las CPUs modernas implementan aritm√©tica de punto flotante bajo IEEE 754. Los n√∫meros se guardan
                        como: Signo + Exponente + Mantisa. Fracciones simples como <code>0.1</code> tienen
                        representaciones binarias infinitas peri√≥dicas (similar a 1/3 en decimal).</p>

                    <div class="bg-red-50 border-l-4 border-red-500 p-6 rounded-r-xl mb-8">
                        <h4 class="font-bold text-red-800 mb-1">Peligro Cr√≠tico: P√©rdida de Precisi√≥n</h4>
                        <code
                            class="text-red-900 block mt-2 bg-red-100 p-2 rounded">double a = 0.1 + 0.2; // Resultado: 0.30000000000000004</code>
                        <p class="text-red-700 text-sm mt-2">
                            Esta "basura" al final de la mantisa se acumula en c√°lculos sucesivos.
                            <br><strong>Regla de Ingenier√≠a:</strong> JAM√ÅS uses <code>float</code> o
                            <code>double</code> para dinero. Usa <code>java.math.BigDecimal</code> o representa centavos
                            usando <code>long</code> (patr√≥n Monetary Amount).
                        </p>
                    </div>

                    <h2 class="text-slate-900 border-none mb-6"><i
                            class="fas fa-dumbbell text-blue-600 mr-2"></i>Training Ground</h2>

                    <div class="mb-6 p-6 bg-slate-100 rounded-xl border-l-4 border-green-500">
                        <span class="text-xs font-bold text-green-600 uppercase mb-2 block">üü¢ Nivel B√°sico</span>
                        <p class="font-medium text-slate-800 mb-2">Inferencia de Tipos (Local Variable Type Inference)
                        </p>
                        <p class="text-sm text-slate-600 mb-4"><code>var</code> (Java 10+) es az√∫car sint√°ctico en
                            tiempo de compilaci√≥n. El bytecode generado es id√©ntico a declarar el tipo expl√≠cito. NO es
                            tipado din√°mico. Ayuda a reducir verbosidad en gen√©ricos complejos.</p>
                    </div>

                    <div class="mb-6 p-6 bg-slate-100 rounded-xl border-l-4 border-yellow-500">
                        <span class="text-xs font-bold text-yellow-600 uppercase mb-2 block">üü° Nivel Intermedio</span>
                        <p class="font-medium text-slate-800 mb-2">Identidad vs Igualdad (String Pool)</p>
                        <p class="text-sm text-slate-600 mb-4">Explica por qu√© <code>"test" == new String("test")</code>
                            es <code>false</code>.</p>
                        <details class="group">
                            <summary
                                class="flex cursor-pointer items-center text-sm font-medium text-yellow-600 hover:text-yellow-700">
                                Explicaci√≥n de Memoria
                            </summary>
                            <p class="mt-2 text-sm text-slate-600 pl-4 border-l-2 border-slate-300">
                                <code>==</code> compara direcciones de memoria.
                                <br>1. Los literales <code>"text"</code> se internan autom√°ticamente en el
                                <strong>String Pool</strong> (un HashMap nativo en el Heap).
                                <br>2. <code>new String()</code> fuerza la creaci√≥n de un nuevo objeto en el Heap
                                est√°ndar, ignorando el Pool.
                                <br>3. <code>intern()</code> permite mover referencias al Pool manualmente para ahorrar
                                memoria (Patr√≥n Flyweight).
                            </p>
                        </details>
                    </div>

                    <div class="mb-10 p-6 bg-slate-100 rounded-xl border-l-4 border-red-500">
                        <span class="text-xs font-bold text-red-600 uppercase mb-2 block">üî¥ Nivel Avanzado</span>
                        <p class="font-medium text-slate-800 mb-2">C√°lculo Financiero Robusto</p>
                        <p class="text-sm text-slate-600 mb-4">Implementa c√°lculo de impuestos con
                            <code>BigDecimal</code>. Cuidado: el constructor <code>new BigDecimal(0.1)</code> es
                            inseguro porque el double 0.1 ya ha perdido precisi√≥n antes de entrar al constructor.
                        </p>
                        <div class="mt-4">
                            <button onclick="toggleSolution('sol-l3-adv')"
                                class="text-xs font-bold text-white bg-slate-800 px-4 py-2 rounded hover:bg-slate-700">Soluci√≥n</button>
                            <div id="sol-l3-adv" class="hidden mt-4">
                                <pre><code class="language-java">// CORRECTO: Usar String constructor para mantener precisi√≥n exacta
BigDecimal precio = new BigDecimal("19.90"); 
BigDecimal tasa = new BigDecimal("0.19");

// Operaciones aritm√©ticas son m√©todos inmutables
// El RoundingMode es obligatorio en divisiones para evitar ArithmeticException
BigDecimal impuesto = precio.multiply(tasa)
        .setScale(2, RoundingMode.HALF_UP); // Redondeo bancario est√°ndar</code></pre>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- LECCI√ìN 4 -->
                <div id="lesson-4" class="lesson-section hidden animate-fade-in-up lesson-content">
                    <div class="mb-8 border-b border-slate-200 pb-6">
                        <div class="flex items-center gap-3 mb-2">
                            <span
                                class="px-3 py-1 rounded-full bg-blue-100 text-blue-700 text-xs font-bold uppercase tracking-wider">Lecci√≥n
                                04</span>
                        </div>
                        <h1 class="text-4xl md:text-5xl font-black text-slate-900 tracking-tight mb-4">Control de Flujo,
                            Complejidad y Seguridad</h1>
                    </div>

                    <div class="bg-white rounded-2xl p-8 shadow-lg shadow-blue-900/5 border-l-4 border-blue-600 mb-10">
                        <h3 class="!mt-0 text-xl font-bold text-slate-800 mb-4 flex items-center gap-2">
                            <i class="fas fa-crosshairs text-blue-600"></i> Objetivos de Ingenier√≠a
                        </h3>
                        <ul class="list-disc list-inside text-gray-600 space-y-2 text-sm">
                            <li>M√©tricas de calidad: Reducci√≥n de <strong>Complejidad Ciclom√°tica</strong> y
                                testeabilidad.</li>
                            <li>Patrones de flujo: "Fail Fast", Guard Clauses y eliminaci√≥n de "Arrow Code".</li>
                            <li>Switch Expressions: Exhaustividad en el compilador y Pattern Matching.</li>
                            <li>Hardware: <strong>Branch Prediction</strong>. El coste real de un <code>if</code> en el
                                pipeline de la CPU.</li>
                            <li>Seguridad: Timing attacks en comparaciones de Strings y bucles.</li>
                        </ul>
                    </div>



                    <h2>1. Complejidad Ciclom√°tica (McCabe)</h2>
                    <p>Mide el n√∫mero de caminos linealmente independientes a trav√©s del c√≥digo. Matem√°ticamente, define
                        el <strong>n√∫mero m√≠nimo de tests unitarios</strong> necesarios para cubrir toda la l√≥gica.</p>
                    <p>Un alto anidamiento (<code>if</code> dentro de <code>if</code>) aumenta la carga cognitiva
                        exponencialmente y dificulta el mantenimiento. Un ingeniero busca "aplanar" la l√≥gica.</p>

                    <div class="grid grid-cols-1 md:grid-cols-2 gap-6 mb-8">
                        <div class="bg-red-50 p-4 rounded-xl border border-red-200">
                            <h4 class="text-red-800 font-bold mb-2">‚ùå Arrow Code (Anidado)</h4>
                            <pre class="text-xs bg-white p-2 rounded border border-red-100"><code class="language-java">if (user != null) {
    if (user.isActive()) {
        if (saldo > 0) {
            procesar();
        }
    }
} // Dif√≠cil de leer y debuggear</code></pre>
                        </div>
                        <div class="bg-green-50 p-4 rounded-xl border border-green-200">
                            <h4 class="text-green-800 font-bold mb-2">‚úÖ Guard Clauses (Fail Fast)</h4>
                            <pre class="text-xs bg-white p-2 rounded border border-green-100"><code class="language-java">// Validaci√≥n defensiva primero
if (user == null) throw new IllegalArgumentException();
if (!user.isActive()) return;
if (saldo <= 0) return;

procesar(); // L√≥gica principal limpia</code></pre>
                        </div>
                    </div>

                    <h2>2. Implicaciones de Hardware: Branch Prediction</h2>
                    <p>La CPU moderna no ejecuta instrucciones una a una; usa un <em>pipeline</em> profundo. Cuando
                        encuentra un salto condicional (<code>if</code>), intenta "adivinar" el camino (True/False) para
                        pre-cargar instrucciones (Speculative Execution).</p>

                    <p><strong>Branch Misprediction:</strong> Si la CPU falla en su predicci√≥n, debe "vaciar" el
                        pipeline (flush), descartar el trabajo especulativo y recargar las instrucciones correctas. Esto
                        cuesta docenas de ciclos de reloj.
                        <br><em>Ejemplo:</em> Procesar un array ordenado (`sorted`) es dr√°sticamente m√°s r√°pido que uno
                        desordenado en un bucle con condicionales, porque el predictor de saltos puede acertar el patr√≥n
                        (TTTTTFFFFF vs TFTFTTFF).
                    </p>

                    <h2 class="text-slate-900 border-none mb-6"><i
                            class="fas fa-dumbbell text-blue-600 mr-2"></i>Training Ground</h2>

                    <div class="mb-6 p-6 bg-slate-100 rounded-xl border-l-4 border-green-500">
                        <span class="text-xs font-bold text-green-600 uppercase mb-2 block">üü¢ Nivel B√°sico</span>
                        <p class="font-medium text-slate-800 mb-2">Switch Expressions (Java 14+)</p>
                        <p class="text-sm text-slate-600 mb-4">Usa la sintaxis de flecha <code>-></code>. Convierte un
                            switch imperativo en una expresi√≥n funcional que retorna valor, garantizando inmutabilidad y
                            obligando a cubrir todos los casos (Exhaustiveness) si se usa con Enums o Sealed Classes.
                        </p>
                        <pre class="text-xs"><code class="language-java">var tipo = switch(dia) {
    case SAT, SUN -> "FinDeSemana";
    default -> "Laboral"; // Si falta default o un caso, no compila.
};</code></pre>
                    </div>

                    <div class="mb-6 p-6 bg-slate-100 rounded-xl border-l-4 border-yellow-500">
                        <span class="text-xs font-bold text-yellow-600 uppercase mb-2 block">üü° Nivel Intermedio</span>
                        <p class="font-medium text-slate-800 mb-2">Bytecode: Tableswitch vs Lookupswitch</p>
                        <p class="text-sm text-slate-600 mb-4">No todos los switches son iguales. Si los casos son
                            contiguos (1, 2, 3), el compilador genera un <code>tableswitch</code> (acceso O(1) directo
                            por √≠ndice). Si son dispersos (1, 100, 5000), genera un <code>lookupswitch</code> (b√∫squeda
                            binaria O(log n)). Dise√±a tus constantes pensando en esto.</p>
                    </div>

                    <div class="mb-10 p-6 bg-slate-100 rounded-xl border-l-4 border-red-500">
                        <span class="text-xs font-bold text-red-600 uppercase mb-2 block">üî¥ Nivel Avanzado
                            (Seguridad)</span>
                        <p class="font-medium text-slate-800 mb-2">Timing Attacks en Verificaci√≥n de Credenciales</p>
                        <p class="text-sm text-slate-600 mb-4">
                            Un <code>return false</code> prematuro (Fail Fast) es bueno para performance pero fatal para
                            seguridad en criptograf√≠a. Al comparar hashes o tokens, <code>String.equals()</code> retorna
                            false en el primer car√°cter diferente. Esto permite a un atacante medir el tiempo de
                            respuesta (microsegundos) para adivinar el token car√°cter por car√°cter.
                            <br><strong>Reto:</strong> Implementa una comparaci√≥n de tiempo constante.
                        </p>
                        <div class="mt-4">
                            <button onclick="toggleSolution('sol-l4-adv')"
                                class="text-xs font-bold text-white bg-slate-800 px-4 py-2 rounded hover:bg-slate-700">Soluci√≥n
                                Segura</button>
                            <div id="sol-l4-adv" class="hidden mt-4">
                                <pre><code class="language-java">// Comparaci√≥n segura contra Timing Attacks
// Recorre SIEMPRE ambos strings completos usando XOR bit a bit
// Evita que el tiempo de ejecuci√≥n revele qu√© tan cerca estuvo el atacante.

public boolean constantTimeEquals(String a, String b) {
    if (a.length() != b.length()) return false; // Longitud s√≠ se puede filtrar
    int result = 0;
    for (int i = 0; i < a.length(); i++) {
        // XOR acumula diferencias sin ramificaci√≥n condicional
        result |= a.charAt(i) ^ b.charAt(i);
    }
    return result == 0;
}</code></pre>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- LECCI√ìN 5 -->
                <div id="lesson-5" class="lesson-section hidden animate-fade-in-up lesson-content">
                    <div class="mb-8 border-b border-slate-200 pb-6">
                        <div class="flex items-center gap-3 mb-2">
                            <span
                                class="px-3 py-1 rounded-full bg-blue-100 text-blue-700 text-xs font-bold uppercase tracking-wider">Lecci√≥n
                                05</span>
                        </div>
                        <h1 class="text-4xl md:text-5xl font-black text-slate-900 tracking-tight mb-4">Anatom√≠a de
                            M√©todos, Stack Frames y Pass-by-Value</h1>
                    </div>

                    <div class="bg-white rounded-2xl p-8 shadow-lg shadow-blue-900/5 border-l-4 border-blue-600 mb-10">
                        <h3 class="!mt-0 text-xl font-bold text-slate-800 mb-4 flex items-center gap-2">
                            <i class="fas fa-crosshairs text-blue-600"></i> Objetivos de Ingenier√≠a
                        </h3>
                        <ul class="list-disc list-inside text-gray-600 space-y-2 text-sm">
                            <li>Internals: Estructura detallada del <strong>Stack Frame</strong> (LVA, Operand Stack,
                                Dynamic Linking).</li>
                            <li>Concepto Core: Demostraci√≥n definitiva de <strong>Pass-by-Value</strong> en Java.</li>
                            <li>Optimizaci√≥n JIT: <strong>Escape Analysis</strong> y Scalar Replacement (Objetos en el
                                Stack).</li>
                            <li>Dise√±o: Cohesi√≥n, Acoplamiento y gesti√≥n de estado mutable.</li>
                        </ul>
                    </div>



                    <h2>1. Anatom√≠a de una llamada: El Stack Frame</h2>
                    <p>Cada vez que invocas un m√©todo, la JVM empuja un nuevo <strong>Frame</strong> en el Java Stack
                        del hilo actual. Cuando el m√©todo termina, el Frame se destruye (pop). Esto hace que las
                        variables locales sean inherentemente "Thread Safe" (no compartidas).</p>
                    <p>Componentes internos del Frame:</p>
                    <ul class="list-disc list-inside text-slate-600 ml-4 mb-4">
                        <li><strong>Local Variable Array (LVA):</strong> Un arreglo indexado. <code>this</code> (si no
                            es est√°tico) va en index 0. Argumentos y variables locales siguen. Tipos como
                            <code>long/double</code> ocupan 2 slots consecutivos.
                        </li>
                        <li><strong>Operand Stack:</strong> Pila LIFO de profundidad fija usada para ejecutar
                            instrucciones bytecode (suma, carga de referencias).</li>
                        <li><strong>Reference to Constant Pool:</strong> Permite el enlazado din√°mico (resolver
                            referencias a otros m√©todos/campos).</li>
                    </ul>

                    <div class="bg-amber-50 border-l-4 border-amber-500 p-6 rounded-r-xl mb-8">
                        <h4 class="font-bold text-amber-900 mb-1">JIT Magic: Scalar Replacement</h4>
                        <p class="text-amber-800 text-sm">
                            ¬øJava siempre crea objetos en el Heap? <strong>No.</strong> Si el <strong>Escape
                                Analysis</strong> determina que un objeto no escapa del m√©todo (ej: no se retorna ni se
                            asigna a est√°ticos), el compilador C2 puede "explotar" el objeto. En lugar de alocar memoria
                            en el Heap, coloca sus campos primitivos directamente en los registros de la CPU o el Stack.
                            Esto elimina la presi√≥n sobre el GC completamente.
                        </p>
                    </div>

                    <h2>2. Java es siempre Pass-By-Value</h2>
                    <p>Mito persistente: "Java pasa primitivos por valor y objetos por referencia".
                        <strong>Falso</strong>. Java pasa <strong>el valor de la referencia</strong>.
                    </p>
                    <p>Imagina la referencia como un control remoto. Cuando pasas un objeto a un m√©todo, la JVM
                        fotocopia el control remoto. Tienes dos controles apuntando a la misma TV. Puedes cambiar el
                        canal (estado interno del objeto), pero si cambias las pilas al control copia o lo apuntas a
                        otra TV, el control original del llamante no se entera.</p>

                    <h2 class="text-slate-900 border-none mb-6"><i
                            class="fas fa-dumbbell text-blue-600 mr-2"></i>Training Ground</h2>

                    <div class="mb-6 p-6 bg-slate-100 rounded-xl border-l-4 border-green-500">
                        <span class="text-xs font-bold text-green-600 uppercase mb-2 block">üü¢ Nivel B√°sico</span>
                        <p class="font-medium text-slate-800 mb-2">Scope y Shadowing</p>
                        <p class="text-sm text-slate-600 mb-4">Analiza el ciclo de vida de las variables en el LVA.
                            Entiende que al salir de un bloque <code>if/for</code>, los slots del LVA se marcan como
                            reutilizables para nuevas variables, optimizando el tama√±o del frame.</p>
                    </div>

                    <div class="mb-10 p-6 bg-slate-100 rounded-xl border-l-4 border-red-500">
                        <span class="text-xs font-bold text-red-600 uppercase mb-2 block">üî¥ Nivel Avanzado</span>
                        <p class="font-medium text-slate-800 mb-2">Prueba de Fuego: The Swap Paradox</p>
                        <p class="text-sm text-slate-600 mb-4">Implementa un m√©todo que intente intercambiar dos objetos
                            Strings. Demuestra emp√≠ricamente que, a diferencia de C++ (que permite paso por referencia
                            `&`), en Java es imposible reasignar la referencia original desde el callee.</p>
                        <div class="mt-4">
                            <button onclick="toggleSolution('sol-l5-adv')"
                                class="text-xs font-bold text-white bg-slate-800 px-4 py-2 rounded hover:bg-slate-700">Ver
                                Demostraci√≥n</button>
                            <div id="sol-l5-adv" class="hidden mt-4">
                                <pre><code class="language-java">public void demo() {
    String x = "A";
    String y = "B";
    swap(x, y);
    // x sigue siendo "A". El intercambio fall√≥ externamente.
    System.out.println(x); 
}

public void swap(String a, String b) {
    // a y b son COPIAS de los bits de direcci√≥n de memoria.
    // Intercambiarlas aqu√≠ solo afecta a las variables locales del Stack Frame de 'swap'.
    // No hay enlace con 'x' e 'y' del m√©todo 'demo'.
    String temp = a;
    a = b;
    b = temp;
}</code></pre>
                            </div>
                        </div>
                    </div>
                </div>

            </div>

            <footer class="mt-20 py-8 text-center text-slate-400 text-sm border-t border-slate-200">
                <p>&copy; 2025 Java Elite Bootcamp. Arquitectura de Software Avanzada.</p>
            </footer>
        </main>
    </div>

    <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.30.0/prism.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.30.0/components/prism-java.min.js"></script>
    <script src="../assets/scriptFooter.js"></script>
</body>

</html>