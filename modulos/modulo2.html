<!DOCTYPE html>
<html lang="es" class="scroll-smooth">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Módulo 2 | POO Avanzada & Arquitectura</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700;800&display=swap"
        rel="stylesheet">
    <link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism-tomorrow.min.css" rel="stylesheet" />
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css" rel="stylesheet" />

    <script>
        tailwind.config = {
            theme: {
                extend: {
                    fontFamily: { sans: ['Inter', 'sans-serif'], },
                    animation: { 'fade-in-up': 'fadeInUp 0.5s cubic-bezier(0.16, 1, 0.3, 1) forwards', },
                    keyframes: { fadeInUp: { '0%': { opacity: '0', transform: 'translateY(20px)' }, '100%': { opacity: '1', transform: 'translateY(0)' }, }, }
                }
            }
        }
    </script>
</head>

<body
    class="flex flex-col h-screen bg-slate-50 text-slate-800 antialiased selection:bg-purple-500 selection:text-white overflow-hidden">

    <nav
        class="fixed w-full z-50 bg-slate-900/95 backdrop-blur-md border-b border-slate-700/50 text-white h-16 flex items-center justify-between px-6 shadow-lg">
        <div class="flex items-center gap-4">
            <a href="../index.html"
                class="group flex items-center gap-2 text-slate-300 hover:text-white transition-all bg-white/5 hover:bg-white/10 px-4 py-2 rounded-lg border border-white/10 hover:border-white/20">
                <i class="fas fa-arrow-left text-sm group-hover:-translate-x-1 transition-transform"></i>
                <span class="text-sm font-medium">Dashboard</span>
            </a>
            <div class="h-6 w-px bg-slate-700 mx-2"></div>
            <div class="flex items-center gap-3">
                <div class="bg-purple-600/20 p-2 rounded-lg border border-purple-500/30 text-purple-400">
                    <i class="fas fa-cubes text-lg"></i>
                </div>
                <div>
                    <h1 class="font-bold text-sm tracking-wide leading-none">Módulo 02</h1>
                    <span class="text-xs text-slate-400 font-medium">Arquitectura Orientada a Objetos</span>
                </div>
            </div>
        </div>
        <div class="hidden md:flex items-center gap-4">
            <div class="flex items-center gap-2 px-3 py-1.5 bg-purple-900/30 rounded-full border border-purple-500/20">
                <span class="relative flex h-2 w-2">
                    <span
                        class="animate-ping absolute inline-flex h-full w-full rounded-full bg-purple-400 opacity-75"></span>
                    <span class="relative inline-flex rounded-full h-2 w-2 bg-purple-500"></span>
                </span>
                <span class="text-xs font-semibold text-purple-300">Java 21 LTS</span>
            </div>
        </div>
    </nav>

    <div class="flex flex-1 pt-16 h-full overflow-hidden">
        <aside class="w-80 bg-white border-r border-slate-200 shadow-xl z-20 hidden md:flex flex-col">
            <div class="p-6 border-b border-slate-100 bg-slate-50/50">
                <h3 class="text-xs font-black text-slate-400 uppercase tracking-widest mb-1">Contenido del Módulo</h3>
                <p class="text-sm text-slate-600 font-medium">5 Lecciones de Arquitectura</p>
            </div>
            <div class="flex-1 overflow-y-auto custom-scrollbar p-4 space-y-2">
                <button onclick="showLesson(6)" id="btn-6"
                    class="nav-btn w-full text-left px-4 py-4 rounded-xl text-sm font-medium transition-all duration-200 border border-transparent hover:bg-purple-50 hover:border-purple-200 group relative overflow-hidden active">
                    <div class="relative z-10 flex items-center gap-3">
                        <span
                            class="flex-shrink-0 w-8 h-8 rounded-lg bg-slate-100 text-slate-500 flex items-center justify-center text-xs font-bold group-hover:bg-white group-hover:shadow-sm transition-all btn-icon">06</span>
                        <span class="text-slate-600 group-hover:text-slate-900 btn-text">Memoria y Objetos</span>
                    </div>
                    <div
                        class="absolute left-0 top-0 bottom-0 w-1 bg-purple-600 opacity-0 btn-indicator transition-opacity">
                    </div>
                </button>
                <button onclick="showLesson(7)" id="btn-7"
                    class="nav-btn w-full text-left px-4 py-4 rounded-xl text-sm font-medium transition-all duration-200 border border-transparent hover:bg-purple-50 hover:border-purple-200 group relative overflow-hidden">
                    <div class="relative z-10 flex items-center gap-3">
                        <span
                            class="flex-shrink-0 w-8 h-8 rounded-lg bg-slate-100 text-slate-500 flex items-center justify-center text-xs font-bold group-hover:bg-white group-hover:shadow-sm transition-all btn-icon">07</span>
                        <span class="text-slate-600 group-hover:text-slate-900 btn-text">Encapsulamiento Real</span>
                    </div>
                    <div
                        class="absolute left-0 top-0 bottom-0 w-1 bg-purple-600 opacity-0 btn-indicator transition-opacity">
                    </div>
                </button>
                <button onclick="showLesson(8)" id="btn-8"
                    class="nav-btn w-full text-left px-4 py-4 rounded-xl text-sm font-medium transition-all duration-200 border border-transparent hover:bg-purple-50 hover:border-purple-200 group relative overflow-hidden">
                    <div class="relative z-10 flex items-center gap-3">
                        <span
                            class="flex-shrink-0 w-8 h-8 rounded-lg bg-slate-100 text-slate-500 flex items-center justify-center text-xs font-bold group-hover:bg-white group-hover:shadow-sm transition-all btn-icon">08</span>
                        <span class="text-slate-600 group-hover:text-slate-900 btn-text">Herencia y vTables</span>
                    </div>
                    <div
                        class="absolute left-0 top-0 bottom-0 w-1 bg-purple-600 opacity-0 btn-indicator transition-opacity">
                    </div>
                </button>
                <button onclick="showLesson(9)" id="btn-9"
                    class="nav-btn w-full text-left px-4 py-4 rounded-xl text-sm font-medium transition-all duration-200 border border-transparent hover:bg-purple-50 hover:border-purple-200 group relative overflow-hidden">
                    <div class="relative z-10 flex items-center gap-3">
                        <span
                            class="flex-shrink-0 w-8 h-8 rounded-lg bg-slate-100 text-slate-500 flex items-center justify-center text-xs font-bold group-hover:bg-white group-hover:shadow-sm transition-all btn-icon">09</span>
                        <span class="text-slate-600 group-hover:text-slate-900 btn-text">Interfaces & Decoupling</span>
                    </div>
                    <div
                        class="absolute left-0 top-0 bottom-0 w-1 bg-purple-600 opacity-0 btn-indicator transition-opacity">
                    </div>
                </button>
                <button onclick="showLesson(10)" id="btn-10"
                    class="nav-btn w-full text-left px-4 py-4 rounded-xl text-sm font-medium transition-all duration-200 border border-transparent hover:bg-purple-50 hover:border-purple-200 group relative overflow-hidden">
                    <div class="relative z-10 flex items-center gap-3">
                        <span
                            class="flex-shrink-0 w-8 h-8 rounded-lg bg-slate-100 text-slate-500 flex items-center justify-center text-xs font-bold group-hover:bg-white group-hover:shadow-sm transition-all btn-icon">10</span>
                        <span class="text-slate-600 group-hover:text-slate-900 btn-text">Data Carriers (Records)</span>
                    </div>
                    <div
                        class="absolute left-0 top-0 bottom-0 w-1 bg-purple-600 opacity-0 btn-indicator transition-opacity">
                    </div>
                </button>
            </div>
        </aside>

        <main class="flex-1 overflow-y-auto relative bg-slate-50 scroll-smooth">
            <div class="max-w-5xl mx-auto px-8 py-12 relative z-10">

                <div id="lesson-6" class="lesson-section active animate-fade-in-up lesson-content">
                    <div class="mb-8 border-b border-slate-200 pb-6">
                        <div class="flex items-center gap-3 mb-2">
                            <span
                                class="px-3 py-1 rounded-full bg-purple-100 text-purple-700 text-xs font-bold uppercase tracking-wider">Lección
                                06</span>
                        </div>
                        <h1 class="text-4xl md:text-5xl font-black text-slate-900 tracking-tight mb-4">Clases, Objetos y
                            Gestión de Memoria</h1>
                    </div>

                    <div
                        class="bg-white rounded-2xl p-8 shadow-lg shadow-purple-900/5 border-l-4 border-purple-600 mb-10">
                        <h3 class="!mt-0 text-xl font-bold text-slate-800 mb-4 flex items-center gap-2">
                            <i class="fas fa-microchip text-purple-600"></i> Ingeniería Interna
                        </h3>
                        <p class="text-slate-600 mb-4">No estás aquí para aprender sintaxis, estás aquí para entender la
                            memoria. La distinción entre Clase y Objeto es la distinción entre un plano arquitectónico y
                            el edificio físico.</p>
                        <div class="grid md:grid-cols-2 gap-4 text-sm">
                            <div class="flex items-start gap-3"><i
                                    class="fas fa-check text-green-500 mt-1"></i><span><strong>Heap vs Stack:</strong>
                                    Dónde viven tus datos realmente.</span></div>
                            <div class="flex items-start gap-3"><i
                                    class="fas fa-check text-green-500 mt-1"></i><span><strong>Aliasing:</strong> El
                                    peligro de las referencias compartidas.</span></div>
                        </div>
                    </div>

                    <h2>1. El Ciclo de Vida en el Heap</h2>
                    <p>Cuando escribes <code>new Usuario()</code>, ocurre una coreografía compleja en la JVM. La clase
                        (el molde) se carga en el <strong>Metaspace</strong>. Pero el objeto real se "infla" en el
                        <strong>Heap</strong>.
                    </p>



                    <p>La variable que declaras (ej: <code>Usuario u</code>) es solo un control remoto (referencia) que
                        vive en el Stack y apunta a la dirección de memoria en el Heap. Entender esto es vital para
                        evitar <code>NullPointerException</code> y fugas de memoria.</p>

                    <div class="bg-yellow-50 border-l-4 border-yellow-500 p-6 rounded-r-xl mb-8">
                        <h4 class="font-bold text-yellow-800 mb-1">Concepto Clave: Constructor Chaining</h4>
                        <p class="text-yellow-800 text-sm">Un constructor no crea el objeto (eso lo hace
                            <code>new</code>). El constructor <strong>inicializa</strong> el estado. Usar
                            <code>this()</code> permite reutilizar lógica entre múltiples constructores, evitando
                            duplicidad de código (DRY).
                        </p>
                    </div>

                    <h2 class="text-slate-900 border-none mb-6 mt-12"><i
                            class="fas fa-dumbbell text-purple-600 mr-2"></i>Training Ground</h2>

                    <div
                        class="mb-6 p-6 bg-white rounded-xl border border-slate-200 shadow-sm relative overflow-hidden">
                        <div
                            class="absolute top-0 right-0 bg-green-100 text-green-700 text-xs font-bold px-3 py-1 rounded-bl-xl">
                            BÁSICO</div>
                        <h4 class="font-bold text-slate-800 mb-2">Instanciación Simple</h4>
                        <p class="text-sm text-slate-600 mb-4">Crea una clase <code>Vehiculo</code> con atributos
                            <code>marca</code> y <code>modelo</code>. Crea un constructor que obligue a pasar estos
                            datos. Instancia dos vehículos diferentes.
                        </p>
                        <details class="text-sm text-slate-500 cursor-pointer">
                            <summary>Ver Pista</summary>Usa <code>this.marca = marca</code> para diferenciar el atributo
                            del parámetro.
                        </details>
                    </div>

                    <div
                        class="mb-6 p-6 bg-white rounded-xl border border-slate-200 shadow-sm relative overflow-hidden">
                        <div
                            class="absolute top-0 right-0 bg-yellow-100 text-yellow-700 text-xs font-bold px-3 py-1 rounded-bl-xl">
                            INTERMEDIO</div>
                        <h4 class="font-bold text-slate-800 mb-2">Constructor Overloading</h4>
                        <p class="text-sm text-slate-600 mb-4">Añade un constructor secundario que solo reciba
                            <code>marca</code> y asigne "Desconocido" al modelo usando <code>this(...)</code>.
                        </p>
                    </div>

                    <div
                        class="mb-6 p-6 bg-slate-900 rounded-xl border border-slate-700 shadow-lg relative overflow-hidden text-white">
                        <div
                            class="absolute top-0 right-0 bg-red-600 text-white text-xs font-bold px-3 py-1 rounded-bl-xl">
                            AVANZADO</div>
                        <h4 class="font-bold text-white mb-2">Reference Aliasing (Caso Real)</h4>
                        <p class="text-sm text-slate-400 mb-4">Crea <code>v1</code>. Asigna <code>v2 = v1</code>.
                            Modifica la marca en <code>v2</code>. Imprime la marca de <code>v1</code>. Explica por qué
                            cambió.</p>
                        <button onclick="toggleSolution('sol-6')"
                            class="text-xs bg-purple-600 hover:bg-purple-500 text-white px-3 py-1 rounded transition">Ver
                            Solución</button>
                        <div id="sol-6" class="hidden mt-4 pt-4 border-t border-slate-700">
                            <pre><code class="language-java">Vehiculo v1 = new Vehiculo("Toyota", "Corolla");
Vehiculo v2 = v1; // ¡No copias el objeto, copias la referencia!
v2.marca = "Mazda";
System.out.println(v1.marca); // Imprime "Mazda"
// Ambos controles remotos apuntan a la misma TV.</code></pre>
                        </div>
                    </div>

                    <div class="mt-10 pt-8 border-t border-slate-200">
                        <h3 class="font-bold text-slate-800 mb-4">Quiz de Validación</h3>
                        <div class="space-y-3 text-sm">
                            <p><strong>1. ¿Dónde se almacena un objeto creado con 'new'?</strong></p>
                            <div class="grid grid-cols-2 gap-2">
                                <div class="quiz-option border rounded p-2 text-center">Stack</div>
                                <div class="quiz-option border rounded p-2 text-center"
                                    onclick="alert('¡Correcto! El Heap es para objetos.')">Heap</div>
                            </div>
                            <p class="mt-4"><strong>2. ¿Qué hace 'this()' dentro de un constructor?</strong></p>
                            <div class="quiz-option border rounded p-2" onclick="alert('¡Correcto!')">Llama a otro
                                constructor de la misma clase.</div>
                            <div class="quiz-option border rounded p-2">Crea una nueva instancia.</div>
                        </div>
                    </div>
                </div>

                <div id="lesson-7" class="lesson-section hidden animate-fade-in-up lesson-content">
                    <div class="mb-8 border-b border-slate-200 pb-6">
                        <div class="flex items-center gap-3 mb-2">
                            <span
                                class="px-3 py-1 rounded-full bg-purple-100 text-purple-700 text-xs font-bold uppercase tracking-wider">Lección
                                07</span>
                        </div>
                        <h1 class="text-4xl md:text-5xl font-black text-slate-900 tracking-tight mb-4">Encapsulamiento y
                            Diseño Defensivo</h1>
                    </div>

                    <p class="text-slate-600 mb-6">El encapsulamiento no es solo poner variables <code>private</code> y
                        crear Getters/Setters automáticos (eso es un antipatrón llamado "Anemic Domain Model"). El
                        verdadero encapsulamiento es <strong>proteger los invariantes</strong> del objeto.</p>



                    <h3 class="text-xl font-bold text-slate-800 mt-8 mb-4">Principio "Tell, Don't Ask"</h3>
                    <p class="text-slate-600 mb-4">En lugar de pedirle datos a un objeto para tomar una decisión fuera,
                        dile al objeto qué hacer. Él conoce su estado mejor que nadie.</p>

                    <div class="grid md:grid-cols-2 gap-6 mb-8">
                        <div class="bg-red-50 p-4 rounded-xl border border-red-200">
                            <h4 class="text-red-800 font-bold mb-2">❌ Procedural (Malo)</h4>
                            <pre class="text-xs bg-white p-2 rounded"><code class="language-java">if (cuenta.getSaldo() > 100) {
    cuenta.setSaldo(cuenta.getSaldo() - 100);
}</code></pre>
                        </div>
                        <div class="bg-green-50 p-4 rounded-xl border border-green-200">
                            <h4 class="text-green-800 font-bold mb-2">✅ Orientado a Objetos</h4>
                            <pre class="text-xs bg-white p-2 rounded"><code class="language-java">// La lógica vive DENTRO de la clase
cuenta.retirar(100);</code></pre>
                        </div>
                    </div>

                    <h2 class="text-slate-900 border-none mb-6 mt-12"><i
                            class="fas fa-dumbbell text-purple-600 mr-2"></i>Training Ground</h2>

                    <div
                        class="mb-6 p-6 bg-white rounded-xl border border-slate-200 shadow-sm relative overflow-hidden">
                        <div
                            class="absolute top-0 right-0 bg-green-100 text-green-700 text-xs font-bold px-3 py-1 rounded-bl-xl">
                            BÁSICO</div>
                        <h4 class="font-bold text-slate-800 mb-2">Protección Básica</h4>
                        <p class="text-sm text-slate-600 mb-4">Crea una clase <code>CuentaBancaria</code> con saldo
                            privado. Permite leer el saldo, pero no modificarlo directamente.</p>
                    </div>

                    <div
                        class="mb-6 p-6 bg-white rounded-xl border border-slate-200 shadow-sm relative overflow-hidden">
                        <div
                            class="absolute top-0 right-0 bg-yellow-100 text-yellow-700 text-xs font-bold px-3 py-1 rounded-bl-xl">
                            INTERMEDIO</div>
                        <h4 class="font-bold text-slate-800 mb-2">Invariantes en Setter</h4>
                        <p class="text-sm text-slate-600 mb-4">Crea un método <code>depositar(monto)</code>. Si el monto
                            es negativo, lanza una <code>IllegalArgumentException</code>. Esto protege la integridad del
                            objeto.</p>
                    </div>

                    <div
                        class="mb-6 p-6 bg-slate-900 rounded-xl border border-slate-700 shadow-lg relative overflow-hidden text-white">
                        <div
                            class="absolute top-0 right-0 bg-red-600 text-white text-xs font-bold px-3 py-1 rounded-bl-xl">
                            AVANZADO</div>
                        <h4 class="font-bold text-white mb-2">Inmutabilidad</h4>
                        <p class="text-sm text-slate-400 mb-4">Diseña una clase <code>PuntoGPS</code> inmutable. Sus
                            atributos se asignan en el constructor y no pueden cambiar jamás (sin setters, atributos
                            final).</p>
                        <button onclick="toggleSolution('sol-7')"
                            class="text-xs bg-purple-600 hover:bg-purple-500 text-white px-3 py-1 rounded transition">Ver
                            Solución</button>
                        <div id="sol-7" class="hidden mt-4 pt-4 border-t border-slate-700">
                            <pre><code class="language-java">public final class PuntoGPS {
    private final double lat; // 'final' es clave
    private final double lon;

    public PuntoGPS(double lat, double lon) {
        this.lat = lat;
        this.lon = lon;
    }
    // Solo Getters, 0 Setters. Thread-safe por defecto.
}</code></pre>
                        </div>
                    </div>

                    <div class="mt-10 pt-8 border-t border-slate-200">
                        <h3 class="font-bold text-slate-800 mb-4">Quiz de Validación</h3>
                        <div class="space-y-3 text-sm">
                            <p><strong>1. ¿Qué modificador permite acceso solo dentro del mismo paquete y
                                    subclases?</strong></p>
                            <div class="grid grid-cols-2 gap-2">
                                <div class="quiz-option border rounded p-2 text-center" onclick="alert('¡Correcto!')">
                                    protected</div>
                                <div class="quiz-option border rounded p-2 text-center">private</div>
                            </div>
                        </div>
                    </div>
                </div>

                <div id="lesson-8" class="lesson-section hidden animate-fade-in-up lesson-content">
                    <div class="mb-8 border-b border-slate-200 pb-6">
                        <div class="flex items-center gap-3 mb-2">
                            <span
                                class="px-3 py-1 rounded-full bg-purple-100 text-purple-700 text-xs font-bold uppercase tracking-wider">Lección
                                08</span>
                        </div>
                        <h1 class="text-4xl md:text-5xl font-black text-slate-900 tracking-tight mb-4">Polimorfismo: La
                            Magia del Runtime</h1>
                    </div>

                    <div
                        class="bg-white rounded-2xl p-8 shadow-lg shadow-purple-900/5 border-l-4 border-purple-600 mb-10">
                        <h3 class="!mt-0 text-xl font-bold text-slate-800 mb-4">
                            El Secreto Senior: Virtual Method Table (vtable)
                        </h3>
                        <p class="text-slate-600 mb-4">Cuando llamas a <code>animal.hacerSonido()</code>, Java no sabe
                            qué método ejecutar en tiempo de compilación. En <strong>tiempo de ejecución</strong>, la
                            JVM mira el objeto real en el Heap, consulta su "vtable" (una tabla de búsqueda interna) y
                            salta al código de la subclase correcta. Esto es <strong>Dynamic Dispatch</strong>.</p>
                    </div>



                    <h2>1. IS-A Relationship</h2>
                    <p>La herencia establece una relación "Es-Un". Un <code>Perro</code> ES-UN <code>Animal</code>. Esto
                        permite tratar a objetos diferentes de manera uniforme.</p>

                    <h2 class="text-slate-900 border-none mb-6 mt-12"><i
                            class="fas fa-dumbbell text-purple-600 mr-2"></i>Training Ground</h2>

                    <div
                        class="mb-6 p-6 bg-white rounded-xl border border-slate-200 shadow-sm relative overflow-hidden">
                        <div
                            class="absolute top-0 right-0 bg-green-100 text-green-700 text-xs font-bold px-3 py-1 rounded-bl-xl">
                            BÁSICO</div>
                        <h4 class="font-bold text-slate-800 mb-2">Herencia Simple</h4>
                        <p class="text-sm text-slate-600 mb-4">Crea clase <code>Empleado</code> con método
                            <code>trabajar()</code>. Crea subclase <code>Programador</code> que sobrescriba
                            <code>trabajar()</code> imprimiendo "Escribiendo código".
                        </p>
                    </div>

                    <div
                        class="mb-6 p-6 bg-white rounded-xl border border-slate-200 shadow-sm relative overflow-hidden">
                        <div
                            class="absolute top-0 right-0 bg-yellow-100 text-yellow-700 text-xs font-bold px-3 py-1 rounded-bl-xl">
                            INTERMEDIO</div>
                        <h4 class="font-bold text-slate-800 mb-2">Uso de 'super'</h4>
                        <p class="text-sm text-slate-600 mb-4">En <code>Programador</code>, dentro de
                            <code>trabajar()</code>, llama primero al método del padre usando
                            <code>super.trabajar()</code> y luego añade la lógica nueva.
                        </p>
                    </div>

                    <div
                        class="mb-6 p-6 bg-slate-900 rounded-xl border border-slate-700 shadow-lg relative overflow-hidden text-white">
                        <div
                            class="absolute top-0 right-0 bg-red-600 text-white text-xs font-bold px-3 py-1 rounded-bl-xl">
                            AVANZADO</div>
                        <h4 class="font-bold text-white mb-2">Polimorfismo en Arrays</h4>
                        <p class="text-sm text-slate-400 mb-4">Crea un Array de tipo <code>Empleado[]</code>. Guarda
                            dentro un Empleado, un Programador y un Gerente. Recorre el array con un <code>for</code> y
                            llama a <code>trabajar()</code>. Observa la magia.</p>
                        <button onclick="toggleSolution('sol-8')"
                            class="text-xs bg-purple-600 hover:bg-purple-500 text-white px-3 py-1 rounded transition">Ver
                            Solución</button>
                        <div id="sol-8" class="hidden mt-4 pt-4 border-t border-slate-700">
                            <pre><code class="language-java">Empleado[] plantilla = { new Empleado(), new Programador(), new Gerente() };

for (Empleado e : plantilla) {
    // Dynamic Binding: Java decide qué método usar en tiempo real
    e.trabajar(); 
}</code></pre>
                        </div>
                    </div>

                    <div class="mt-10 pt-8 border-t border-slate-200">
                        <h3 class="font-bold text-slate-800 mb-4">Quiz de Validación</h3>
                        <div class="space-y-3 text-sm">
                            <p><strong>1. ¿Qué anotación asegura que estás sobrescribiendo correctamente un
                                    método?</strong></p>
                            <div class="grid grid-cols-2 gap-2">
                                <div class="quiz-option border rounded p-2 text-center"
                                    onclick="alert('¡Correcto! Evita errores de tipografía.')">@Override</div>
                                <div class="quiz-option border rounded p-2 text-center">@Overload</div>
                            </div>
                        </div>
                    </div>
                </div>

                <div id="lesson-9" class="lesson-section hidden animate-fade-in-up lesson-content">
                    <div class="mb-8 border-b border-slate-200 pb-6">
                        <div class="flex items-center gap-3 mb-2">
                            <span
                                class="px-3 py-1 rounded-full bg-purple-100 text-purple-700 text-xs font-bold uppercase tracking-wider">Lección
                                09</span>
                        </div>
                        <h1 class="text-4xl md:text-5xl font-black text-slate-900 tracking-tight mb-4">Interfaces y
                            Desacoplamiento</h1>
                    </div>

                    <p class="text-slate-600 mb-6">La herencia (clases abstractas) es rígida. Las interfaces son
                        flexibles. Definen un <strong>contrato de comportamiento</strong> ("CAN-DO") sin importar la
                        jerarquía ("IS-A"). Es como un enchufe USB: no importa si conectas un ratón o un teclado, si
                        cumple la interfaz USB, funciona.</p>



                    [Image of UML class diagram implementing interfaces]


                    <h3 class="text-xl font-bold text-slate-800 mt-8 mb-4">Default Methods (Java 8+)</h3>
                    <p class="text-slate-600 mb-4">Antiguamente, si añadías un método a una interfaz, rompías todas las
                        clases que la implementaban. Los métodos <code>default</code> permiten evolución de APIs sin
                        romper compatibilidad.</p>

                    <h2 class="text-slate-900 border-none mb-6 mt-12"><i
                            class="fas fa-dumbbell text-purple-600 mr-2"></i>Training Ground</h2>

                    <div
                        class="mb-6 p-6 bg-white rounded-xl border border-slate-200 shadow-sm relative overflow-hidden">
                        <div
                            class="absolute top-0 right-0 bg-green-100 text-green-700 text-xs font-bold px-3 py-1 rounded-bl-xl">
                            BÁSICO</div>
                        <h4 class="font-bold text-slate-800 mb-2">Contrato Simple</h4>
                        <p class="text-sm text-slate-600 mb-4">Define interfaz <code>Volador</code> con método
                            <code>volar()</code>. Haz que las clases <code>Pajaro</code> y <code>Avion</code> la
                            implementen. Nota que no tienen relación familiar, solo de capacidad.
                        </p>
                    </div>

                    <div
                        class="mb-6 p-6 bg-white rounded-xl border border-slate-200 shadow-sm relative overflow-hidden">
                        <div
                            class="absolute top-0 right-0 bg-yellow-100 text-yellow-700 text-xs font-bold px-3 py-1 rounded-bl-xl">
                            INTERMEDIO</div>
                        <h4 class="font-bold text-slate-800 mb-2">Default Methods</h4>
                        <p class="text-sm text-slate-600 mb-4">Añade un método <code>default void aterrizar()</code> en
                            la interfaz con un comportamiento base. Sobrescríbelo solo en <code>Avion</code>.</p>
                    </div>

                    <div
                        class="mb-6 p-6 bg-slate-900 rounded-xl border border-slate-700 shadow-lg relative overflow-hidden text-white">
                        <div
                            class="absolute top-0 right-0 bg-red-600 text-white text-xs font-bold px-3 py-1 rounded-bl-xl">
                            AVANZADO</div>
                        <h4 class="font-bold text-white mb-2">Desacoplamiento (Dependency Injection)</h4>
                        <p class="text-sm text-slate-400 mb-4">Crea una clase <code>Juego</code> que reciba un
                            <code>Volador</code> en su constructor. Demuestra que el juego funciona igual pasándole un
                            Pájaro o un Avión. Esto es la base de la arquitectura limpia.
                        </p>
                        <button onclick="toggleSolution('sol-9')"
                            class="text-xs bg-purple-600 hover:bg-purple-500 text-white px-3 py-1 rounded transition">Ver
                            Solución</button>
                        <div id="sol-9" class="hidden mt-4 pt-4 border-t border-slate-700">
                            <pre><code class="language-java">class Juego {
    private Volador unidad; // Referencia a la interfaz, no a la clase concreta

    public Juego(Volador v) { this.unidad = v; } // Inyección de dependencia

    public void iniciar() { unidad.volar(); }
}
// Uso: new Juego(new Avion()); o new Juego(new Pajaro());</code></pre>
                        </div>
                    </div>

                    <div class="mt-10 pt-8 border-t border-slate-200">
                        <h3 class="font-bold text-slate-800 mb-4">Quiz de Validación</h3>
                        <div class="space-y-3 text-sm">
                            <p><strong>1. ¿Cuántas interfaces puede implementar una clase en Java?</strong></p>
                            <div class="grid grid-cols-2 gap-2">
                                <div class="quiz-option border rounded p-2 text-center"
                                    onclick="alert('¡Correcto! Herencia múltiple de tipos.')">Múltiples</div>
                                <div class="quiz-option border rounded p-2 text-center">Solo una</div>
                            </div>
                        </div>
                    </div>
                </div>

                <div id="lesson-10" class="lesson-section hidden animate-fade-in-up lesson-content">
                    <div class="mb-8 border-b border-slate-200 pb-6">
                        <div class="flex items-center gap-3 mb-2">
                            <span
                                class="px-3 py-1 rounded-full bg-purple-100 text-purple-700 text-xs font-bold uppercase tracking-wider">Lección
                                10</span>
                        </div>
                        <h1 class="text-4xl md:text-5xl font-black text-slate-900 tracking-tight mb-4">Data Modeling
                            Moderno: Records & Enums</h1>
                    </div>

                    <div class="bg-purple-50 p-6 rounded-xl border border-purple-100 mb-8">
                        <h3 class="font-bold text-purple-900 mb-2">Adiós al Boilerplate</h3>
                        <p class="text-sm text-purple-800">Java 14 introdujo <strong>Records</strong>. Antes, para crear
                            un simple DTO (Data Transfer Object) necesitabas 50 líneas de código (Constructor, Getters,
                            Equals, HashCode, ToString). Ahora necesitas 1 sola línea.</p>
                    </div>



                    <h3 class="text-xl font-bold text-slate-800 mt-8 mb-4">Enums: Más que constantes</h3>
                    <p class="text-slate-600 mb-4">En Java, los Enums son clases completas. Pueden tener atributos,
                        constructores y métodos abstractos. Son Singletons por definición y thread-safe.</p>

                    <h2 class="text-slate-900 border-none mb-6 mt-12"><i
                            class="fas fa-dumbbell text-purple-600 mr-2"></i>Training Ground</h2>

                    <div
                        class="mb-6 p-6 bg-white rounded-xl border border-slate-200 shadow-sm relative overflow-hidden">
                        <div
                            class="absolute top-0 right-0 bg-green-100 text-green-700 text-xs font-bold px-3 py-1 rounded-bl-xl">
                            BÁSICO</div>
                        <h4 class="font-bold text-slate-800 mb-2">Tu primer Record</h4>
                        <p class="text-sm text-slate-600 mb-4">Define un record
                            <code>Coordenada(double x, double y)</code>. Instáncialo e imprime su valor usando
                            <code>toString()</code> (que ya viene gratis).
                        </p>
                    </div>

                    <div
                        class="mb-6 p-6 bg-white rounded-xl border border-slate-200 shadow-sm relative overflow-hidden">
                        <div
                            class="absolute top-0 right-0 bg-yellow-100 text-yellow-700 text-xs font-bold px-3 py-1 rounded-bl-xl">
                            INTERMEDIO</div>
                        <h4 class="font-bold text-slate-800 mb-2">Validación en Record</h4>
                        <p class="text-sm text-slate-600 mb-4">Usa el "Compact Constructor" del Record para validar que
                            <code>x</code> no sea negativo. Si lo es, lanza excepción.
                        </p>
                    </div>

                    <div
                        class="mb-6 p-6 bg-slate-900 rounded-xl border border-slate-700 shadow-lg relative overflow-hidden text-white">
                        <div
                            class="absolute top-0 right-0 bg-red-600 text-white text-xs font-bold px-3 py-1 rounded-bl-xl">
                            AVANZADO</div>
                        <h4 class="font-bold text-white mb-2">Enum Strategy Pattern</h4>
                        <p class="text-sm text-slate-400 mb-4">Crea un Enum <code>Operacion</code> con valores SUMA y
                            RESTA. Define un método abstracto <code>aplicar(int a, int b)</code> y que cada constante lo
                            implemente de forma distinta.</p>
                        <button onclick="toggleSolution('sol-10')"
                            class="text-xs bg-purple-600 hover:bg-purple-500 text-white px-3 py-1 rounded transition">Ver
                            Solución</button>
                        <div id="sol-10" class="hidden mt-4 pt-4 border-t border-slate-700">
                            <pre><code class="language-java">enum Operacion {
    SUMA { 
        public int aplicar(int a, int b) { return a + b; } 
    },
    RESTA { 
        public int aplicar(int a, int b) { return a - b; } 
    };

    public abstract int aplicar(int a, int b);
}
// Uso: Operacion.SUMA.aplicar(10, 5);</code></pre>
                        </div>
                    </div>

                    <div class="mt-10 pt-8 border-t border-slate-200">
                        <h3 class="font-bold text-slate-800 mb-4">Quiz de Validación</h3>
                        <div class="space-y-3 text-sm">
                            <p><strong>1. ¿Son inmutables los Records en Java?</strong></p>
                            <div class="grid grid-cols-2 gap-2">
                                <div class="quiz-option border rounded p-2 text-center"
                                    onclick="alert('¡Correcto! Todos sus campos son final.')">Sí, siempre</div>
                                <div class="quiz-option border rounded p-2 text-center">No, son mutables</div>
                            </div>
                        </div>
                    </div>
                </div>

            </div>

            <footer class="mt-20 py-8 text-center text-slate-400 text-sm border-t border-slate-200">
                <p>&copy; 2025 Java Masterclass. Módulo 2 completado.</p>
            </footer>
        </main>
    </div>

    <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-java.min.js"></script>
    <script>
        function showLesson(id) {
            document.querySelectorAll('.lesson-section').forEach(el => {
                el.classList.add('hidden');
                el.classList.remove('active');
            });

            const selected = document.getElementById('lesson-' + id);
            selected.classList.remove('hidden');
            setTimeout(() => selected.classList.add('active'), 10);

            document.querySelectorAll('.nav-btn').forEach(btn => {
                btn.classList.remove('active', 'bg-purple-50', 'border-purple-100');
                btn.querySelector('.btn-indicator').classList.remove('opacity-100');
                btn.querySelector('.btn-indicator').classList.add('opacity-0');

                const icon = btn.querySelector('.btn-icon');
                icon.classList.remove('bg-purple-600', 'text-white');
                icon.classList.add('bg-slate-100', 'text-slate-500');

                btn.querySelector('.btn-text').classList.remove('text-purple-700', 'font-bold');
            });

            const activeBtn = document.getElementById('btn-' + id);
            activeBtn.classList.add('active', 'bg-purple-50', 'border-purple-100');
            activeBtn.querySelector('.btn-indicator').classList.add('opacity-100');
            activeBtn.querySelector('.btn-indicator').classList.remove('opacity-0');

            const activeIcon = activeBtn.querySelector('.btn-icon');
            activeIcon.classList.remove('bg-slate-100', 'text-slate-500');
            activeIcon.classList.add('bg-purple-600', 'text-white');

            activeBtn.querySelector('.btn-text').classList.add('text-purple-700', 'font-bold');

            document.querySelector('main').scrollTop = 0;
        }

        function toggleSolution(id) {
            const el = document.getElementById(id);
            el.classList.toggle('hidden');
        }

        // Init
        showLesson(6);
    </script>
</body>

</html>